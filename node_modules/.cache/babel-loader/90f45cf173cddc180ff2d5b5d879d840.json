{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/willfoody/Documents/Repositories/ReactApp/src/components/NewApp.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react'; // import './App.css';\n\nimport { useEffect, useState } from 'react';\nimport PlacesAutocomplete, { geocodeByAddress, geocodeByPlaceId, getLatLng } from 'react-places-autocomplete';\nimport { connect } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\n\nfunction NewApp(props) {\n  _s();\n\n  const [address, setAddress] = useState(\"\");\n  let formattedAddress = address.split(\" \").join(\"%20\");\n  const history = useHistory();\n\n  const getRepInfoByAddress = () => {\n    fetch(`https://www.googleapis.com/civicinfo/v2/representatives?key=AIzaSyDatTrCAc_AsUpv-RrJ1uT-a9kvyF6SJS8&address=${formattedAddress}`).then(response => response.json()).then(result => {\n      console.log(result); // props.onFetchReps({official: result.officials[0]}) /* set action for search to button, onChange and onClick */\n\n      props.onFetchReps(result);\n    }).then(history.push('/results'));\n  };\n\n  useEffect(() => {// getRepInfoByAddress\n  }, []); // const handleSelect = () => {\n  //     history.push('/results')\n  // }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(PlacesAutocomplete, {\n      value: address,\n      onChange: setAddress,\n      onSelect: getRepInfoByAddress,\n      children: ({\n        getInputProps,\n        suggestions,\n        getSuggestionItemProps,\n        loading\n      }) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", { ...getInputProps({\n            placeholder: \"Enter address here\"\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"...loading\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 40\n          }, this) : null, suggestions.map(suggestion => {\n            const style = {\n              backgroundColor: suggestion.active ? \"#65C6F7\" : \"#fff\",\n              color: suggestion.active ? \"#fff\" : \"#000000\"\n            };\n            return /*#__PURE__*/_jsxDEV(\"div\", { ...getSuggestionItemProps(suggestion, {\n                style\n              }),\n              children: suggestion.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 37\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n}\n\n_s(NewApp, \"mMah13TApayrg81azDvs3V1Y9m8=\", false, function () {\n  return [useHistory];\n});\n\n_c = NewApp;\n\nconst mapStateToProps = state => {\n  return {\n    reps: state.reps\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onFetchReps: reps => dispatch({\n      type: 'FETCH_REPS',\n      payload: reps\n    })\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewApp);\n\nvar _c;\n\n$RefreshReg$(_c, \"NewApp\");","map":{"version":3,"sources":["/Users/willfoody/Documents/Repositories/ReactApp/src/components/NewApp.js"],"names":["React","useEffect","useState","PlacesAutocomplete","geocodeByAddress","geocodeByPlaceId","getLatLng","connect","useHistory","NewApp","props","address","setAddress","formattedAddress","split","join","history","getRepInfoByAddress","fetch","then","response","json","result","console","log","onFetchReps","push","getInputProps","suggestions","getSuggestionItemProps","loading","placeholder","map","suggestion","style","backgroundColor","active","color","description","mapStateToProps","state","reps","mapDispatchToProps","dispatch","type","payload"],"mappings":"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","sourcesContent":["import React from 'react'\n// import './App.css';\nimport { useEffect, useState } from 'react'\nimport PlacesAutocomplete, {\n    geocodeByAddress,\n    geocodeByPlaceId,\n    getLatLng,\n} from 'react-places-autocomplete';\nimport { connect } from 'react-redux'\nimport { useHistory } from 'react-router-dom';\n\n\nfunction NewApp(props) {\n\n\n    const [address, setAddress] = useState(\"\")\n\n    let formattedAddress = address.split(\" \").join(\"%20\")\n\n    const history = useHistory()\n\n    const getRepInfoByAddress = () => {\n        fetch(`https://www.googleapis.com/civicinfo/v2/representatives?key=AIzaSyDatTrCAc_AsUpv-RrJ1uT-a9kvyF6SJS8&address=${formattedAddress}`)\n            .then(response => response.json())\n            .then(result => {\n                console.log(result)\n                // props.onFetchReps({official: result.officials[0]}) /* set action for search to button, onChange and onClick */\n                props.onFetchReps(result)\n                  \n            }).then(history.push('/results'))\n    }\n    \n\n    useEffect(() => {\n        // getRepInfoByAddress\n    }, [])\n\n\n    // const handleSelect = () => {\n    //     history.push('/results')\n    // }\n\n    return (\n\n\n        <div>\n            <PlacesAutocomplete\n                value={address}\n                onChange={setAddress}\n                onSelect={getRepInfoByAddress}\n            >\n                {({ getInputProps, suggestions, getSuggestionItemProps, loading }) => (\n                    <div>\n                        <input {...getInputProps({ placeholder: \"Enter address here\" })} />\n\n                        <div>\n                            {loading ? <div>...loading</div> : null}\n\n                            {suggestions.map((suggestion) => {\n                                const style = {\n                                    backgroundColor: suggestion.active ? \"#65C6F7\" : \"#fff\",\n                                    color: suggestion.active ? \"#fff\" : \"#000000\"\n\n                                }\n\n                                return (\n                                    <div\n                                        {...getSuggestionItemProps(suggestion, { style })}>\n                                        {suggestion.description}\n                                    </div>\n                                )\n                            })}\n                        </div>\n                    </div>\n                )}\n            </PlacesAutocomplete>\n        </div>\n    );\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        reps: state.reps\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        onFetchReps: (reps) => dispatch({\n            type: 'FETCH_REPS',\n            payload: reps\n        })\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewApp);\n"]},"metadata":{},"sourceType":"module"}